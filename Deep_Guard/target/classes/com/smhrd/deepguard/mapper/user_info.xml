<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.smhrd.deepguard.mapper.UserInfoMapper">

    <!-- 모든 사용자 조회 -->
    <select id="findAll" resultType="com.smhrd.deepguard.entity.user_info">
        SELECT * FROM user_info
    </select>

    <!-- 특정 사용자 조회 (user_id 기준) -->
    <select id="findById" parameterType="String" resultType="com.smhrd.deepguard.entity.user_info">
        SELECT * FROM user_info WHERE user_id = #{user_id}
    </select>

    <!-- 새로운 사용자 삽입 -->
    <insert id="insert" parameterType="com.smhrd.deepguard.entity.user_info">
        INSERT INTO user_info (user_id, user_pw, user_contact, user_type, joined_at)
        VALUES (#{user_id}, #{user_pw}, #{user_contact}, #{user_type}, #{joined_at})
    </insert>

    <!-- 기존 사용자 정보 업데이트 -->
    <update id="update" parameterType="com.smhrd.deepguard.entity.user_info">
        UPDATE user_info
        SET user_pw = #{user_pw},
            user_contact = #{user_contact},
            user_type = #{user_type},
            joined_at = #{joined_at}
        WHERE user_id = #{user_id}
    </update>

    <!-- 특정 사용자 삭제 (user_id 기준) -->
    <delete id="delete" parameterType="String">
        DELETE FROM user_info WHERE user_id = #{user_id}
    </delete>
</mapper>
